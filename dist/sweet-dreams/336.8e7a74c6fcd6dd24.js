"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[336],{336:(_,f,o)=>{o.r(f),o.d(f,{UserComunitysModule:()=>A});var Y=o(1368),d=o(4280),$=o(2024),p=o(6876),G=o(1528),t=o(2116),y=o(1792),v=o(5352);let O=(()=>{class i{constructor(e,n){var r=this;this.httpCoreService=e,this.commonService=n,this.base64ToArrayBuffer=a=>{let s=window.atob(a),c=s.length,l=new Uint8Array(c);for(let m=0;m<c;m++){let g=s.charCodeAt(m);l[m]=g}return l},this.base64ToArrayBufferService=function(){var a=(0,G.c)(function*(s,c){r.httpCoreService.post({vplantilla_nombre:s,vplantilla_orginal:c},"/descargar/getDescargar").subscribe(m=>{if(m.IsSuccess){let w=window.atob(m.file),E=w.length,b=new Uint8Array(E);for(let u=0;u<E;u++){let D=w.charCodeAt(u);b[u]=D}let L=new Blob([b],{type:"application/vnd.ms-excel"}),C=document.createElement("a");C.href=window.URL.createObjectURL(L),C.download=c,C.click()}else r.commonService.HanddleErrorMessage(m)})});return function(s,c){return a.apply(this,arguments)}}()}formatDateUtil(e){let n=e.getDate(),r=e.getMonth();return e.getFullYear()+"-"+(r+1)+"-"+n}getSeguridad(e){const n=this.getItemStorage("menu");if(n){let a,r=n.find(s=>s.vurl===e);if(r){const s=r.opciones[0];s&&(a=s)}else{const s="/"+e.split("/")[1];a=n[0].items.find(l=>l.vurl_module===s).items.find(l=>l.routerLink===e)}return a}}getItemStorage(e){let n=localStorage.getItem("menu")?JSON.parse(localStorage.getItem("menu")):[];if(n)return n}limpiarNombreArchivo(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}static#t=this.\u0275fac=function(n){return new(n||i)(t.CoB(y.c),t.CoB(v.G))};static#e=this.\u0275prov=t.wxM({token:i,factory:i.\u0275fac})}return i})();var R=o(9280),k=o(7564),I=o(7252),S=o(1148),U=o(1864);function F(i,h){1&i&&(t.I0R(0,"tr")(1,"th",7),t.OEk(2,"Id"),t.C$Y(),t.I0R(3,"th",8),t.OEk(4,"Nombres"),t.C$Y(),t.I0R(5,"th",9),t.OEk(6,"Apellidos"),t.C$Y(),t.I0R(7,"th",10),t.OEk(8,"Perfil"),t.C$Y(),t.I0R(9,"th",11),t.OEk(10,"Rango"),t.C$Y(),t.I0R(11,"th",12),t.OEk(12,"Comunidad"),t.C$Y(),t.I0R(13,"th",13),t.OEk(14,"Nro. Telefonico"),t.C$Y(),t.I0R(15,"th",14),t.OEk(16,"Canal"),t.C$Y(),t.I0R(17,"th",15),t.OEk(18,"Link Canal"),t.C$Y(),t.I0R(19,"th",16),t.OEk(20,"Estado"),t.C$Y(),t.I0R(21,"th",17),t.OEk(22,"Acciones"),t.C$Y()())}function M(i,h){if(1&i&&(t.I0R(0,"tr")(1,"td",18),t.OEk(2),t.C$Y(),t.I0R(3,"td",8),t.OEk(4),t.C$Y(),t.I0R(5,"td",9),t.OEk(6),t.C$Y(),t.I0R(7,"td",10),t.OEk(8),t.C$Y(),t.I0R(9,"td",11),t.OEk(10),t.C$Y(),t.I0R(11,"td",12),t.OEk(12),t.C$Y(),t.I0R(13,"td",13),t.OEk(14),t.C$Y(),t.I0R(15,"td",14),t.OEk(16),t.C$Y(),t.I0R(17,"td",15)(18,"a",19),t.OEk(19),t.C$Y()(),t.I0R(20,"td",16),t.OEk(21),t.C$Y(),t.wR5(22,"td",17),t.C$Y()),2&i){const e=h.$implicit;t.yG2(2),t.cNF(e.vcode),t.yG2(2),t.cNF(e.vfirst_name),t.yG2(2),t.cNF(e.vlast_name),t.yG2(2),t.cNF(e.vname_profile),t.yG2(2),t.cNF(e.vrange_member),t.yG2(2),t.cNF(e.vname_comunity),t.yG2(2),t.cNF(e.vphone),t.yG2(2),t.cNF(e.vchannel_twitch),t.yG2(2),t.E7m("href",e.vurl_channel_twitch,t.K6U),t.yG2(),t.cNF(e.vurl_channel_twitch),t.yG2(2),t.cNF(e.vstate_record)}}function P(i,h){1&i&&(t.I0R(0,"tr")(1,"td",20),t.OEk(2,"No se encontr\xf3 Informaci\xf3n."),t.C$Y()())}function N(i,h){1&i&&(t.I0R(0,"tr")(1,"td",20),t.OEk(2," Cargando informaci\xf3n. Espere por favor. "),t.C$Y()())}let T=(()=>{class i{constructor(e,n,r,a,s){this.route=e,this.router=n,this.httpCoreService=r,this.commonService=a,this.utilService=s,this.name="",this.lstUsers=[],this.req={iid_user:-1,vcode:"",vfirst_name:"",vlast_name:"",vemail:"",inumber_document:-1,itype_document:-1,iphone:-1,vaddress:"",iid_department:-1,iid_profile:-1,iid_comunity:-1,istate_record:-1,iindex:0,ilimit:p.AN},this.totalRecord=0,this.first=0,this.rowsDefault=p.AN,this.rowsOptions=p.WA}ngOnInit(){this.route.params.subscribe(e=>{this.name=e.name,this.getSeguridad()})}loadData(e){this.httpCoreService.post(e,$.U.GetListUsers).subscribe(n=>{n.isSuccess&&(this.lstUsers=n.data,this.totalRecord=n.iTotal_record)})}getSeguridad(){const e=this.router.url.split("/"),n=["/",e[1],"/",e[2],"/",this.name].join(""),r=this.utilService.getSeguridad(n);this.req.iid_comunity=r.iid_comunity,this.loadData(this.req)}static#t=this.\u0275fac=function(n){return new(n||i)(t.GI1(d.gV),t.GI1(d.E5),t.GI1(y.c),t.GI1(v.G),t.GI1(O))};static#e=this.\u0275cmp=t.In1({type:i,selectors:[["app-user-comunitys"]],standalone:!0,features:[t.M5G([O]),t.UHJ],decls:8,vars:8,consts:[["header","Tabla de Usuarios",1,"line-height-3",3,"toggleable"],["scrollDirection","both","scrollHeight","400px","styleClass","mt-3","responsiveLayout","scroll","styleClass","p-datatable-gridlines",3,"value","scrollable"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],["currentPageReportTemplate","Total : {totalRecords} registros",3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","first"],[1,"td-id"],[1,"td-name"],[1,"td-firstname"],[1,"td-profile"],[1,"td-range"],[1,"td-comunity"],[1,"td-phone"],[1,"td-channel"],[1,"td-url-channel"],[1,"td-state"],["pFrozenColumn","","alignFrozen","right",1,"td-actions"],[1,"font-bold"],["target","_blank",3,"href"],["colspan","7"]],template:function(n,r){1&n&&(t.wR5(0,"br"),t.I0R(1,"p-panel",0)(2,"p-table",1),t.yuY(3,F,23,0,"ng-template",2)(4,M,23,11,"ng-template",3)(5,P,3,0,"ng-template",4)(6,N,3,0,"ng-template",5),t.C$Y(),t.wR5(7,"p-paginator",6),t.C$Y()),2&n&&(t.yG2(),t.E7m("toggleable",!1),t.yG2(),t.E7m("value",r.lstUsers)("scrollable",!0),t.yG2(5),t.E7m("rows",r.req.ilimit)("totalRecords",r.totalRecord)("rowsPerPageOptions",r.rowsOptions)("showCurrentPageReport",!0)("first",r.first))},dependencies:[R.k,k.U3,I.oJ,I._E,S.s,U._],styles:[".td-id[_ngcontent-%COMP%]{min-width:8rem;max-width:8rem}.td-name[_ngcontent-%COMP%], .td-firstname[_ngcontent-%COMP%]{min-width:12rem;max-width:12rem}.td-profile[_ngcontent-%COMP%]{min-width:15rem;max-width:15rem}.td-range[_ngcontent-%COMP%], .td-comunity[_ngcontent-%COMP%]{min-width:12rem;max-width:12rem}.td-phone[_ngcontent-%COMP%]{min-width:15rem;max-width:15rem}.td-channel[_ngcontent-%COMP%]{min-width:10rem;max-width:10rem}.td-url-channel[_ngcontent-%COMP%]{min-width:20rem;max-width:20rem}.td-state[_ngcontent-%COMP%], .td-actions[_ngcontent-%COMP%]{min-width:8rem;max-width:8rem}"]})}return i})(),x=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.a4G({type:i});static#n=this.\u0275inj=t.s3X({imports:[d.qQ.forChild([{path:"",component:T}]),d.qQ]})}return i})(),A=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.a4G({type:i});static#n=this.\u0275inj=t.s3X({imports:[Y.MD,R.k,x]})}return i})()}}]);