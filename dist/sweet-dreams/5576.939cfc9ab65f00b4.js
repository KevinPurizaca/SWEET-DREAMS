"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[5576],{5576:(W,u,r)=>{r.r(u),r.d(u,{UsersModule:()=>H});var d=r(1368),c=r(4280),l=r(4716),g=r(2884),a=r(6876),f=r(9280),t=r(2116),C=r(1792),h=r(920),R=r(7564),E=r(7252),v=r(232),y=r(2736),_=r(1148),I=r(6316),b=r(1864),Y=r(9388);function $(o,n){1&o&&(t.I0R(0,"small",31),t.OEk(1,"Ingrese solo Letras"),t.C$Y())}function N(o,n){1&o&&(t.I0R(0,"small",31),t.OEk(1,"Ingrese solo Letras"),t.C$Y())}function x(o,n){1&o&&(t.I0R(0,"tr")(1,"th",32),t.OEk(2,"Id"),t.C$Y(),t.I0R(3,"th",32),t.OEk(4,"Nombres"),t.C$Y(),t.I0R(5,"th",32),t.OEk(6,"Apellidos"),t.C$Y(),t.I0R(7,"th",32),t.OEk(8,"Perfil"),t.C$Y(),t.I0R(9,"th",32),t.OEk(10,"Correo Electronico"),t.C$Y(),t.I0R(11,"th",32),t.OEk(12,"Nro. Telefonico"),t.C$Y(),t.I0R(13,"th",32),t.OEk(14,"Tipo Documento"),t.C$Y(),t.I0R(15,"th",32),t.OEk(16,"Nro. Documento"),t.C$Y(),t.I0R(17,"th",32),t.OEk(18,"Departamento"),t.C$Y(),t.I0R(19,"th",32),t.OEk(20,"Estado"),t.C$Y(),t.I0R(21,"th",33),t.OEk(22,"Acciones"),t.C$Y()())}function G(o,n){if(1&o&&(t.I0R(0,"tr")(1,"td",34),t.OEk(2),t.C$Y(),t.I0R(3,"td",35),t.OEk(4),t.C$Y(),t.I0R(5,"td",35),t.OEk(6),t.C$Y(),t.I0R(7,"td",35),t.OEk(8),t.C$Y(),t.I0R(9,"td",35),t.OEk(10),t.C$Y(),t.I0R(11,"td",35),t.OEk(12),t.C$Y(),t.I0R(13,"td",35),t.OEk(14),t.C$Y(),t.I0R(15,"td",35),t.OEk(16),t.C$Y(),t.I0R(17,"td",35),t.OEk(18),t.C$Y(),t.I0R(19,"td",35),t.OEk(20),t.C$Y(),t.wR5(21,"td",36),t.C$Y()),2&o){const e=n.$implicit;t.yG2(2),t.cNF(e.vcode),t.yG2(2),t.cNF(e.vfirst_name),t.yG2(2),t.cNF(e.vlast_name),t.yG2(2),t.cNF(e.date),t.yG2(2),t.cNF(e.vemail),t.yG2(2),t.cNF(e.iphone),t.yG2(2),t.cNF(e.itype_document),t.yG2(2),t.cNF(e.inumber_document),t.yG2(2),t.cNF(e.iid_department),t.yG2(2),t.cNF(e.vstate_record)}}function O(o,n){1&o&&(t.I0R(0,"tr")(1,"td",37),t.OEk(2,"No se encontr\xf3 Informaci\xf3n."),t.C$Y()())}function T(o,n){1&o&&(t.I0R(0,"tr")(1,"td",37),t.OEk(2," Cargando informaci\xf3n. Espere por favor. "),t.C$Y()())}function k(o,n){1&o&&(t.I0R(0,"small",31),t.OEk(1," Ingrese Nombres"),t.C$Y())}function U(o,n){1&o&&(t.I0R(0,"small",31),t.OEk(1,"Ingrese solo Letras"),t.C$Y())}function w(o,n){1&o&&(t.I0R(0,"small",31),t.OEk(1," Ingrese Apellidos"),t.C$Y())}function D(o,n){1&o&&(t.I0R(0,"small",31),t.OEk(1,"Ingrese solo Letras"),t.C$Y())}function S(o,n){1&o&&(t.I0R(0,"small",31),t.OEk(1," Seleccion Perfil."),t.C$Y())}function F(o,n){1&o&&(t.I0R(0,"small",31),t.OEk(1," Seleccion Estado."),t.C$Y())}function A(o,n){1&o&&(t.I0R(0,"small",31),t.OEk(1," Ingrese Nro. Telefono."),t.C$Y())}function L(o,n){1&o&&(t.I0R(0,"small",31),t.OEk(1," Seleccion Tipo Documento."),t.C$Y())}function P(o,n){1&o&&(t.I0R(0,"small",31),t.OEk(1," Ingrese Nro. Documento."),t.C$Y())}function M(o,n){1&o&&(t.I0R(0,"small",31),t.OEk(1," Seleccion Departamento."),t.C$Y())}function Q(o,n){1&o&&(t.I0R(0,"small",31),t.OEk(1," Ingrese Correo Electronico."),t.C$Y())}function j(o,n){1&o&&(t.I0R(0,"small",31),t.OEk(1," Formato de correo electr\xf3nico inv\xe1lido. "),t.C$Y())}function B(o,n){if(1&o&&(t.wR5(0,"br"),t.I0R(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),t.OEk(5,"Nombres"),t.C$Y(),t.wR5(6,"input",5),t.yuY(7,k,2,0,"small",6)(8,U,2,0,"small",6),t.C$Y(),t.I0R(9,"div",3)(10,"label",4),t.OEk(11,"Apellidos"),t.C$Y(),t.wR5(12,"input",7),t.yuY(13,w,2,0,"small",6)(14,D,2,0,"small",6),t.C$Y(),t.I0R(15,"div",3)(16,"label",4),t.OEk(17,"Perfil"),t.C$Y(),t.wR5(18,"p-dropdown",38),t.yuY(19,S,2,0,"small",6),t.C$Y(),t.I0R(20,"div",3)(21,"label",4),t.OEk(22,"Estado"),t.C$Y(),t.wR5(23,"p-dropdown",39),t.yuY(24,F,2,0,"small",6),t.C$Y(),t.I0R(25,"div",3)(26,"label",4),t.OEk(27,"Nro. Telefono"),t.C$Y(),t.wR5(28,"p-inputNumber",10),t.yuY(29,A,2,0,"small",6),t.C$Y(),t.I0R(30,"div",3)(31,"label",4),t.OEk(32,"Tipo Documento"),t.C$Y(),t.wR5(33,"p-dropdown",40),t.yuY(34,L,2,0,"small",6),t.C$Y(),t.I0R(35,"div",3)(36,"label",4),t.OEk(37,"Nro. Documento"),t.C$Y(),t.wR5(38,"p-inputNumber",11),t.yuY(39,P,2,0,"small",6),t.C$Y(),t.I0R(40,"div",3)(41,"label",4),t.OEk(42,"Departamento"),t.C$Y(),t.wR5(43,"p-dropdown",41),t.yuY(44,M,2,0,"small",6),t.C$Y(),t.I0R(45,"div",42)(46,"label",4),t.OEk(47,"Correo Electronico"),t.C$Y(),t.wR5(48,"input",12),t.yuY(49,Q,2,0,"small",6)(50,j,2,0,"small",6),t.C$Y()()()),2&o){const e=t.GaO();let i,s;t.yG2(),t.E7m("formGroup",e.formRegisterEdit),t.yG2(6),t.E7m("ngIf",e.formRegisterEdit.controls.txtFirstName.invalid&&e.formRegisterEdit.controls.txtFirstName.touched),t.yG2(),t.E7m("ngIf",null==(i=e.formRegisterEdit.get("txtFirstName"))?null:i.hasError("pattern")),t.yG2(5),t.E7m("ngIf",e.formRegisterEdit.controls.txtLastName.invalid&&e.formRegisterEdit.controls.txtLastName.touched),t.yG2(),t.E7m("ngIf",null==(s=e.formRegisterEdit.get("txtLastName"))?null:s.hasError("pattern")),t.yG2(4),t.E7m("placeholder",e.vmessageSelect)("emptyMessage",e.vmessageEmpty)("options",e.lstProfile),t.yG2(),t.E7m("ngIf",e.formRegisterEdit.controls.intProfile.invalid&&e.formRegisterEdit.controls.intProfile.touched),t.yG2(4),t.E7m("options",e.lstStatus)("emptyMessage",e.vmessageEmpty)("placeholder",e.vmessageSelect),t.yG2(),t.E7m("ngIf",e.formRegisterEdit.controls.intStatus.invalid&&e.formRegisterEdit.controls.intStatus.touched),t.yG2(4),t.E7m("useGrouping",!1)("maxlength",9),t.yG2(),t.E7m("ngIf",e.formRegisterEdit.controls.txtPhoneNumber.invalid&&e.formRegisterEdit.controls.txtPhoneNumber.touched),t.yG2(4),t.E7m("placeholder",e.vmessageSelect)("emptyMessage",e.vmessageEmpty)("options",e.lstTipeDocument),t.yG2(),t.E7m("ngIf",e.formRegisterEdit.controls.intTipeDocument.invalid&&e.formRegisterEdit.controls.intTipeDocument.touched),t.yG2(4),t.E7m("useGrouping",!1)("maxlength",8),t.yG2(),t.E7m("ngIf",e.formRegisterEdit.controls.txtDocumentNumber.invalid&&e.formRegisterEdit.controls.txtDocumentNumber.touched),t.yG2(4),t.E7m("placeholder",e.vmessageSelect)("emptyMessage",e.vmessageEmpty)("options",e.lstDepartment),t.yG2(),t.E7m("ngIf",e.formRegisterEdit.controls.intDepartment.invalid&&e.formRegisterEdit.controls.intDepartment.touched),t.yG2(5),t.E7m("ngIf",e.formRegisterEdit.controls.txtEmail.invalid&&e.formRegisterEdit.controls.txtEmail.touched),t.yG2(),t.E7m("ngIf",e.formRegisterEdit.controls.txtEmail.hasError("pattern"))}}function V(o,n){if(1&o){const e=t.KQA();t.I0R(0,"button",43),t.qCj("click",function(){t.usT(e);const s=t.GaO();return t.CGJ(s.vmEditRegisterUser=!1)}),t.C$Y(),t.I0R(1,"button",44),t.qCj("click",function(){t.usT(e);const s=t.GaO();return t.CGJ(s.saveUser())}),t.C$Y()}if(2&o){const e=t.GaO();t.yG2(),t.E7m("loading",e.loadingSave)}}const z=()=>({width:"826px",height:"440px"});let J=(()=>{class o{constructor(e,i,s){this.httpCoreService=s,this.vmessageEmpty=g.CM,this.vmessageSelect=g.y6,this.lstProfile=[],this.lstStatus=[],this.lstDepartment=[],this.lstTipeDocument=[],this.lstUsers=[],this.titleEditRegisterUser="",this.vmEditRegisterUser=!1,this.submitted=!1,this.totalRecord=0,this.first=0,this.rowsDefault=a.AN,this.rowsOptions=a.WA,this.req={iid_user:-1,vcode:"",vfirst_name:"",vlast_name:"",vemail:"",inumber_document:-1,itype_document:-1,iphone:-1,vaddress:"",iid_department:-1,iid_profile:-1,istate_record:-1,iindex:0,ilimit:a.AN},this.formSearch=e.group({txtFirstName:["",[l.AQ.pattern(a.w7.Letras)]],txtLastName:["",[l.AQ.pattern(a.w7.Letras)]],intProfile:[-1],intStatus:[-1],txtPhoneNumber:[null,[l.AQ.pattern(a.w7.Numeros)]],txtEmail:[""],intDepartment:[-1],txtDocumentNumber:[null,[l.AQ.pattern(a.w7.Numeros)]]}),this.formRegisterEdit=i.group({txtFirstName:["",[l.AQ.pattern(a.w7.Letras),l.AQ.required]],txtLastName:["",[l.AQ.pattern(a.w7.Letras),l.AQ.required]],intProfile:[-1],intStatus:[-1],txtPhoneNumber:[null,[l.AQ.pattern(a.w7.Numeros),l.AQ.required]],txtEmail:["",[l.AQ.pattern(a.w7.Email),l.AQ.required]],intDepartment:[-1],txtDocumentNumber:[null,[l.AQ.pattern(a.w7.Numeros),l.AQ.required]],intTipeDocument:[-1]})}ngOnInit(){this.loadData(this.req)}viewModal(e,i){switch(e){case 1:this.formRegisterEdit.markAsUntouched(),this.formRegisterEdit.reset(),this.lsUserDto={},this.lsUserDto.iid_usuario=0,this.titleEditRegisterUser="Registrar Usuario",this.vmEditRegisterUser=!0;break;case 2:this.titleEditRegisterUser="Editar Usuario",this.lsUserDto=i,this.vmEditRegisterUser=!0}}saveUser(){this.submitted=!0;for(let i in this.formRegisterEdit.controls)this.formRegisterEdit.controls[i].markAsTouched()}loadData(e){this.httpCoreService.post(e,"/Masters/Users/GetListUsers").subscribe(i=>{i.isSuccess&&(this.lstUsers=i.data,this.totalRecord=i.iTotal_record)})}static#t=this.\u0275fac=function(i){return new(i||o)(t.GI1(l.im),t.GI1(l.im),t.GI1(C.c))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-users"]],standalone:!0,features:[t.UHJ],decls:55,vars:33,consts:[["header","B\xfasqueda de Usuarios",1,"line-height-3",3,"toggleable"],[3,"formGroup"],[1,"p-fluid","p-formgrid","grid"],[1,"col-12","md:col-3"],[1,"label-filter-text"],["formControlName","txtFirstName","type","text","pInputText","",1,"p-inputtext","p-component","p-element"],["class","text-red-600",4,"ngIf"],["formControlName","txtLastName","type","text","pInputText","",1,"p-inputtext","p-component","p-element"],["formControlName","intProfile","optionLabel","value","optionValue","id","appendTo","body",3,"placeholder","emptyMessage","options"],["formControlName","intStatus","optionLabel","value","optionValue","id","appendTo","body",3,"placeholder","emptyMessage","options"],["formControlName","txtPhoneNumber","inputId","withoutgrouping","autocomplete","off",3,"useGrouping","maxlength"],["formControlName","txtDocumentNumber","inputId","withoutgrouping","autocomplete","off",3,"useGrouping","maxlength"],["formControlName","txtEmail","type","text","pInputText","",1,"p-inputtext","p-component","p-element"],["formControlName","intDepartment","optionLabel","value","optionValue","id","appendTo","body",3,"placeholder","emptyMessage","options"],[1,"flex","flex-wrap","sm:flex-row"],[1,"sm:mr-auto","mb-3","mr-3"],["pButton","","label","Agregar usuario","type","button","icon","pi pi-plus",1,"p-button-help",3,"click"],[1,"mb-3","mr-3"],["pButton","","label","Buscar","icon","pi pi-search","type","submit",1,"p-button-outlined","p-button-primary"],[1,""],["pButton","","label","Limpiar","type","button","icon","pi pi-trash",1,"p-button-outlined","p-button-secondary",3,"click"],["header","Tabla de Usuarios",1,"line-height-3",3,"toggleable"],["scrollDirection","both","scrollHeight","400px","styleClass","mt-3","responsiveLayout","scroll","styleClass","p-datatable-gridlines",3,"value","scrollable"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],["currentPageReportTemplate","Total : {totalRecords} registros",3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","first"],[1,"p-fluid",3,"visible","draggable","closable","header","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[1,"text-red-600"],[2,"min-width","150px"],["pFrozenColumn","","alignFrozen","right",2,"min-width","200px"],[1,"font-bold",2,"width","200px"],[2,"width","200px"],["pFrozenColumn","","alignFrozen","right",2,"width","200px"],["colspan","7"],["formControlName","intProfile","required","","optionLabel","value","optionValue","id","appendTo","body",3,"placeholder","emptyMessage","options"],["formControlName","intStatus","optionLabel","value","optionValue","id","required","","appendTo","body",3,"options","emptyMessage","placeholder"],["formControlName","intTipeDocument","optionLabel","value","optionValue","id","required","","appendTo","body",3,"placeholder","emptyMessage","options"],["formControlName","intDepartment","optionLabel","value","optionValue","id","required","","appendTo","body",3,"placeholder","emptyMessage","options"],[1,"col-12","md:col-6"],["pButton","","pRipple","","label","Cerrar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-save",1,"p-button-text",3,"loading","click"]],template:function(i,s){if(1&i&&(t.I0R(0,"p-panel",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),t.OEk(5,"Nombres"),t.C$Y(),t.wR5(6,"input",5),t.yuY(7,$,2,0,"small",6),t.C$Y(),t.I0R(8,"div",3)(9,"label",4),t.OEk(10,"Apellidos"),t.C$Y(),t.wR5(11,"input",7),t.yuY(12,N,2,0,"small",6),t.C$Y(),t.I0R(13,"div",3)(14,"label",4),t.OEk(15,"Perfil"),t.C$Y(),t.wR5(16,"p-dropdown",8),t.C$Y(),t.I0R(17,"div",3)(18,"label",4),t.OEk(19,"Estado"),t.C$Y(),t.wR5(20,"p-dropdown",9),t.C$Y(),t.I0R(21,"div",3)(22,"label",4),t.OEk(23,"Nro. Telefono"),t.C$Y(),t.wR5(24,"p-inputNumber",10),t.C$Y(),t.I0R(25,"div",3)(26,"label",4),t.OEk(27,"Nro. Documento"),t.C$Y(),t.wR5(28,"p-inputNumber",11),t.C$Y(),t.I0R(29,"div",3)(30,"label",4),t.OEk(31,"Correo Electronico"),t.C$Y(),t.wR5(32,"input",12),t.C$Y(),t.I0R(33,"div",3)(34,"label",4),t.OEk(35,"Departamento"),t.C$Y(),t.wR5(36,"p-dropdown",13),t.C$Y()(),t.I0R(37,"div",14)(38,"div",15)(39,"button",16),t.qCj("click",function(){return s.viewModal(1,null)}),t.C$Y()(),t.I0R(40,"div",17),t.wR5(41,"button",18),t.C$Y(),t.I0R(42,"div",19)(43,"button",20),t.qCj("click",function(){return s.formSearch.reset()}),t.C$Y()()()()(),t.wR5(44,"br"),t.I0R(45,"p-panel",21)(46,"p-table",22),t.yuY(47,x,23,0,"ng-template",23)(48,G,22,10,"ng-template",24)(49,O,3,0,"ng-template",25)(50,T,3,0,"ng-template",26),t.C$Y(),t.wR5(51,"p-paginator",27),t.C$Y(),t.I0R(52,"p-dialog",28),t.iHE("visibleChange",function(m){return t.kNx(s.vmEditRegisterUser,m)||(s.vmEditRegisterUser=m),m}),t.yuY(53,B,51,29,"ng-template",29)(54,V,2,1,"ng-template",30),t.C$Y()),2&i){let p,m;t.E7m("toggleable",!0),t.yG2(),t.E7m("formGroup",s.formSearch),t.yG2(6),t.E7m("ngIf",null==(p=s.formSearch.get("txtFirstName"))?null:p.hasError("pattern")),t.yG2(5),t.E7m("ngIf",null==(m=s.formSearch.get("txtLastName"))?null:m.hasError("pattern")),t.yG2(4),t.E7m("placeholder",s.vmessageSelect)("emptyMessage",s.vmessageEmpty)("options",s.lstProfile),t.yG2(4),t.E7m("placeholder",s.vmessageSelect)("emptyMessage",s.vmessageEmpty)("options",s.lstStatus),t.yG2(4),t.E7m("useGrouping",!1)("maxlength",9),t.yG2(4),t.E7m("useGrouping",!1)("maxlength",8),t.yG2(8),t.E7m("placeholder",s.vmessageSelect)("emptyMessage",s.vmessageEmpty)("options",s.lstDepartment),t.yG2(9),t.E7m("toggleable",!1),t.yG2(),t.E7m("value",s.lstUsers)("scrollable",!0),t.yG2(5),t.E7m("rows",s.req.ilimit)("totalRecords",s.totalRecord)("rowsPerPageOptions",s.rowsOptions)("showCurrentPageReport",!0)("first",s.first),t.yG2(),t.m_g(t.q4q(32,z)),t.OKB("visible",s.vmEditRegisterUser),t.E7m("draggable",!1)("closable",!1)("header",s.titleEditRegisterUser)("modal",!0)}},dependencies:[f.k,d.u_,l.sz,l.ot,l.ue,l.u,l.eJ,l.Mj,l.uW,l.Wo,h.cS,R.U3,E.oJ,E._E,v.A9,y.C,_.s,I.C,b._,Y.Et]})}return o})(),q=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.a4G({type:o});static#o=this.\u0275inj=t.s3X({imports:[c.qQ.forChild([{path:"",component:J}]),c.qQ]})}return o})(),H=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.a4G({type:o});static#o=this.\u0275inj=t.s3X({imports:[d.MD,f.k,q]})}return o})()}}]);