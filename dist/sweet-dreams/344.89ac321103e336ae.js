"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[344],{9344:(re,_,l)=>{l.r(_),l.d(_,{RangesModule:()=>le});var h=l(1368),R=l(332),u=l(4716),e=l(2116),m=l(7564),v=l(9216),g=l(144),k=l(7096),f=l(2736);const y=["input"];function M(a,r){if(1&a){const t=e.KQA();e.I0R(0,"TimesIcon",5),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.clear())}),e.C$Y()}2&a&&(e.E7m("styleClass","p-inputmask-clear-icon"),e.e48("data-pc-section","clearIcon"))}function T(a,r){}function w(a,r){1&a&&e.yuY(0,T,0,0,"ng-template")}function x(a,r){if(1&a){const t=e.KQA();e.I0R(0,"span",6),e.qCj("click",function(){e.usT(t);const i=e.GaO(2);return e.CGJ(i.clear())}),e.yuY(1,w,1,0,null,7),e.C$Y()}if(2&a){const t=e.GaO(2);e.e48("data-pc-section","clearIcon"),e.yG2(),e.E7m("ngTemplateOutlet",t.clearIconTemplate)}}function G(a,r){if(1&a&&(e.SAx(0),e.yuY(1,M,1,2,"TimesIcon",3)(2,x,2,2,"span",4),e.k70()),2&a){const t=e.GaO();e.yG2(),e.E7m("ngIf",!t.clearIconTemplate),e.yG2(),e.E7m("ngIf",t.clearIconTemplate)}}const O={provide:u.Y6,useExisting:(0,e.wd)(()=>I),multi:!0};let I=(()=>{class a{document;platformId;el;cd;type="text";slotChar="_";autoClear=!0;showClear=!1;style;inputId;styleClass;placeholder;size;maxlength;tabindex;title;ariaLabel;ariaLabelledBy;ariaRequired;disabled;readonly;unmask;name;required;characterPattern="[A-Za-z]";autoFocus;autocomplete;keepBuffer=!1;get mask(){return this._mask}set mask(t){this._mask=t,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}onComplete=new e._w7;onFocus=new e._w7;onBlur=new e._w7;onInput=new e._w7;onKeydown=new e._w7;onClear=new e._w7;inputViewChild;templates;clearIconTemplate;value;_mask;onModelChange=()=>{};onModelTouched=()=>{};input;filled;defs;tests;partialPosition;firstNonMaskPos;lastRequiredNonMaskPos;len;oldVal;buffer;defaultBuffer;focusText;caretTimeoutId;androidChrome=!0;focused;constructor(t,n,i,s){this.document=t,this.platformId=n,this.el=i,this.cd=s}ngOnInit(){if((0,h.c0)(this.platformId)){let t=navigator.userAgent;this.androidChrome=/chrome/i.test(t)&&/android/i.test(t)}this.initMask()}ngAfterContentInit(){this.templates.forEach(t=>{"clearicon"===t.getType()&&(this.clearIconTemplate=t.template)})}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let t=this.mask.split("");for(let n=0;n<t.length;n++){let i=t[n];"?"==i?(this.len--,this.partialPosition=n):this.defs[i]?(this.tests.push(new RegExp(this.defs[i])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1),n<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let n=0;n<t.length;n++){let i=t[n];"?"!=i&&this.buffer.push(this.defs[i]?this.getPlaceholder(n):i)}this.defaultBuffer=this.buffer.join("")}writeValue(t){this.value=t,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.value=null==this.value||null==this.value?"":this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}caret(t,n){let i,s,o;if(this.inputViewChild?.nativeElement.offsetParent&&this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement){if("number"!=typeof t)return this.inputViewChild.nativeElement.setSelectionRange?(s=this.inputViewChild.nativeElement.selectionStart,o=this.inputViewChild.nativeElement.selectionEnd):this.document&&this.document.selection.createRange&&(i=this.document.createRange(),s=0-i.duplicate().moveStart("character",-1e5),o=s+i.text.length),{begin:s,end:o};s=t,o="number"==typeof n?n:s,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(s,o):this.inputViewChild.nativeElement.createTextRange&&(i=this.inputViewChild.nativeElement.createTextRange(),i.collapse(!0),i.moveEnd("character",o),i.moveStart("character",s),i.select())}}isCompleted(){for(let n=this.firstNonMaskPos;n<=this.lastRequiredNonMaskPos;n++)if(this.tests[n]&&this.buffer[n]===this.getPlaceholder(n))return!1;return!0}getPlaceholder(t){return this.slotChar.charAt(t<this.slotChar.length?t:0)}seekNext(t){for(;++t<this.len&&!this.tests[t];);return t}seekPrev(t){for(;--t>=0&&!this.tests[t];);return t}shiftL(t,n){let i,s;if(!(t<0)){for(i=t,s=this.seekNext(n);i<this.len;i++)if(this.tests[i]){if(!(s<this.len&&this.tests[i].test(this.buffer[s])))break;this.buffer[i]=this.buffer[s],this.buffer[s]=this.getPlaceholder(s),s=this.seekNext(s)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}}shiftR(t){let n,i,s,o;for(n=t,i=this.getPlaceholder(t);n<this.len;n++)if(this.tests[n]){if(s=this.seekNext(n),o=this.buffer[n],this.buffer[n]=i,!(s<this.len&&this.tests[s].test(o)))break;i=o}}handleAndroidInput(t){var n=this.inputViewChild?.nativeElement.value,i=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>n.length){for(this.checkVal(!0);i.begin>0&&!this.tests[i.begin-1];)i.begin--;if(0===i.begin)for(;i.begin<this.firstNonMaskPos&&!this.tests[i.begin];)i.begin++;setTimeout(()=>{this.caret(i.begin,i.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);i.begin<this.len&&!this.tests[i.begin];)i.begin++;setTimeout(()=>{this.caret(i.begin,i.begin),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(t){if(this.focused=!1,this.onModelTouched(),this.keepBuffer||this.checkVal(),this.updateFilledState(),this.onBlur.emit(t),this.inputViewChild?.nativeElement.value!=this.focusText||this.inputViewChild?.nativeElement.value!=this.value){this.updateModel(t);let n=this.document.createEvent("HTMLEvents");n.initEvent("change",!0,!1),this.inputViewChild?.nativeElement.dispatchEvent(n)}}onInputKeydown(t){if(this.readonly)return;let i,s,o,p,n=t.which||t.keyCode;(0,h.c0)(this.platformId)&&(p=/iphone/i.test(g.k.getUserAgent())),this.oldVal=this.inputViewChild?.nativeElement.value,this.onKeydown.emit(t),8===n||46===n||p&&127===n?(i=this.caret(),s=i.begin,o=i.end,o-s==0&&(s=46!==n?this.seekPrev(s):o=this.seekNext(s-1),o=46===n?this.seekNext(o):o),this.clearBuffer(s,o),this.shiftL(s,this.keepBuffer?o-2:o-1),this.updateModel(t),this.onInput.emit(t),t.preventDefault()):13===n?(this.onInputBlur(t),this.updateModel(t)):27===n&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(t),t.preventDefault())}onKeyPress(t){if(!this.readonly){var s,o,p,b,n=t.which||t.keyCode,i=this.caret();t.ctrlKey||t.altKey||t.metaKey||n<32||n>34&&n<41||(n&&13!==n&&(i.end-i.begin!=0&&(this.clearBuffer(i.begin,i.end),this.shiftL(i.begin,i.end-1)),(s=this.seekNext(i.begin-1))<this.len&&(o=String.fromCharCode(n),this.tests[s].test(o)&&(this.shiftR(s),this.buffer[s]=o,this.writeBuffer(),p=this.seekNext(s),g.k.isClient()&&/android/i.test(g.k.getUserAgent())?setTimeout(()=>{this.caret(p)},0):this.caret(p),i.begin<=this.lastRequiredNonMaskPos&&(b=this.isCompleted()),this.onInput.emit(t))),t.preventDefault()),this.updateModel(t),this.updateFilledState(),b&&this.onComplete.emit())}}clearBuffer(t,n){if(!this.keepBuffer){let i;for(i=t;i<n&&i<this.len;i++)this.tests[i]&&(this.buffer[i]=this.getPlaceholder(i))}}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(t){let s,o,p,n=this.inputViewChild?.nativeElement.value,i=-1;for(s=0,p=0;s<this.len;s++)if(this.tests[s]){for(this.buffer[s]=this.getPlaceholder(s);p++<n.length;)if(o=n.charAt(p-1),this.tests[s].test(o)){this.keepBuffer||(this.buffer[s]=o),i=s;break}if(p>n.length){this.clearBuffer(s+1,this.len);break}}else this.buffer[s]===n.charAt(p)&&p++,s<this.partialPosition&&(i=s);return t?this.writeBuffer():i+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild?.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild?.nativeElement.value.substring(0,i+1)),this.partialPosition?s:this.firstNonMaskPos}onInputFocus(t){if(this.readonly)return;let n;this.focused=!0,clearTimeout(this.caretTimeoutId),this.focusText=this.inputViewChild?.nativeElement.value,n=this.keepBuffer?this.inputViewChild?.nativeElement.value.length:this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild?.nativeElement===this.inputViewChild?.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),n==this.mask?.replace("?","").length?this.caret(0,n):this.caret(n))},10),this.onFocus.emit(t)}onInputChange(t){this.androidChrome?this.handleAndroidInput(t):this.handleInputChange(t),this.onInput.emit(t)}handleInputChange(t){this.readonly||setTimeout(()=>{var n=this.checkVal(!0);this.caret(n),this.updateModel(t),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let t=[];for(let n=0;n<this.buffer.length;n++){let i=this.buffer[n];this.tests[n]&&i!=this.getPlaceholder(n)&&t.push(i)}return t.join("")}updateModel(t){const n=this.unmask?this.getUnmaskedValue():t.target.value;(null!==n||void 0!==n)&&(this.value=n,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild?.nativeElement&&""!=this.inputViewChild.nativeElement.value}focus(){this.inputViewChild?.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}static \u0275fac=function(n){return new(n||a)(e.GI1(h.Ud),e.GI1(e.AHE),e.GI1(e.GMv),e.GI1(e.kD9))};static \u0275cmp=e.In1({type:a,selectors:[["p-inputMask"]],contentQueries:function(n,i,s){if(1&n&&e.szK(s,m.U3,4),2&n){let o;e.wto(o=e.Gqi())&&(i.templates=o)}},viewQuery:function(n,i){if(1&n&&e.CC$(y,7),2&n){let s;e.wto(s=e.Gqi())&&(i.inputViewChild=s.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(n,i){2&n&&e.eAK("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputmask-clearable",i.showClear&&!i.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:"autoClear",showClear:"showClear",style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",ariaRequired:"ariaRequired",disabled:"disabled",readonly:"readonly",unmask:"unmask",name:"name",required:"required",characterPattern:"characterPattern",autoFocus:"autoFocus",autocomplete:"autocomplete",keepBuffer:"keepBuffer",mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[e.M5G([O])],decls:3,vars:21,consts:[["pInputText","","pAutoFocus","",1,"p-inputmask",3,"ngStyle","ngClass","disabled","readonly","autofocus","focus","blur","keydown","keypress","input","paste"],["input",""],[4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-inputmask-clear-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-inputmask-clear-icon",3,"click"],[4,"ngTemplateOutlet"]],template:function(n,i){1&n&&(e.I0R(0,"input",0,1),e.qCj("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)})("keydown",function(o){return i.onInputKeydown(o)})("keypress",function(o){return i.onKeyPress(o)})("input",function(o){return i.onInputChange(o)})("paste",function(o){return i.handleInputChange(o)}),e.C$Y(),e.yuY(2,G,3,2,"ng-container",2)),2&n&&(e.E7m("ngStyle",i.style)("ngClass",i.styleClass)("disabled",i.disabled)("readonly",i.readonly)("autofocus",i.autoFocus),e.e48("id",i.inputId)("type",i.type)("name",i.name)("placeholder",i.placeholder)("title",i.title)("size",i.size)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-labelledBy",i.ariaLabelledBy)("aria-required",i.ariaRequired)("required",i.required)("data-pc-name","inputmask")("data-pc-section","root"),e.yG2(2),e.E7m("ngIf",null!=i.value&&i.filled&&i.showClear&&!i.disabled))},dependencies:()=>[h.QF,h.u_,h.XV,h.Qt,f.C,v.k,k.O],styles:["@layer primeng{.p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}}\n"],encapsulation:2,changeDetection:0})}return a})(),N=(()=>{class a{static \u0275fac=function(n){return new(n||a)};static \u0275mod=e.a4G({type:a});static \u0275inj=e.s3X({imports:[h.MD,f.s,v.q,k.O,m.kT]})}return a})();var C=l(2024),d=l(2884),c=l(6876),D=l(7500),Y=l(5732),P=l(1792),V=l(5352),S=l(3340),B=l(8090),E=l(5592),A=l(232),$=l(2392),F=l(6304),H=l(836),K=l(3536),q=l(3312),L=l(7512);let j=(()=>{class a{constructor(t){this.cp=t}transform(t,n){return this.cp.transform(t,"","","","en-PE")}static#e=this.\u0275fac=function(n){return new(n||a)(e.GI1(h.cf,16))};static#t=this.\u0275pipe=e.UTH({name:"currencyFormat",type:a,pure:!0})}return a})();function Q(a,r){1&a&&(e.I0R(0,"tr")(1,"th",27),e.OEk(2,"Id"),e.C$Y(),e.I0R(3,"th",28),e.OEk(4,"Nombre"),e.C$Y(),e.I0R(5,"th",29),e.OEk(6,"Descripci\xf3n"),e.C$Y(),e.I0R(7,"th",30),e.OEk(8,"Horas Normales"),e.C$Y(),e.I0R(9,"th",31),e.OEk(10,"Horas VIP"),e.C$Y(),e.I0R(11,"th",32),e.OEk(12,"Hora Reserva"),e.C$Y(),e.I0R(13,"th",33),e.OEk(14,"% Min Necesario"),e.C$Y(),e.I0R(15,"th",34),e.OEk(16,"Estado"),e.C$Y(),e.I0R(17,"th",35),e.OEk(18,"Acciones"),e.C$Y()())}function U(a,r){if(1&a){const t=e.KQA();e.I0R(0,"tr")(1,"td",36),e.OEk(2),e.C$Y(),e.I0R(3,"td",28),e.OEk(4),e.C$Y(),e.I0R(5,"td",29),e.OEk(6),e.C$Y(),e.I0R(7,"td",30),e.OEk(8),e.C$Y(),e.I0R(9,"td",31),e.OEk(10),e.C$Y(),e.I0R(11,"td",32),e.OEk(12),e.C$Y(),e.I0R(13,"td",33),e.OEk(14),e.wVc(15,"currencyFormat"),e.C$Y(),e.I0R(16,"td",34),e.OEk(17),e.C$Y(),e.I0R(18,"td",35)(19,"button",37),e.qCj("click",function(){const s=e.usT(t).$implicit,o=e.GaO();return e.CGJ(o.viewModal(2,s))}),e.C$Y(),e.I0R(20,"button",38),e.qCj("click",function(i){const o=e.usT(t).$implicit,p=e.GaO();return e.CGJ(p.deleteRange(i,o))}),e.C$Y()()()}if(2&a){const t=r.$implicit;e.yG2(2),e.cNF(t.vcode_range),e.yG2(2),e.cNF(t.vname_range),e.yG2(2),e.cNF(t.vdescription_range),e.yG2(2),e.cNF(t.ihours_normal_range),e.yG2(2),e.cNF(t.ihours_vip_range),e.yG2(2),e.cNF(t.vtime_agenda_range),e.yG2(2),e.cNF(e.kDX(15,8,t.dsupport_min_required)),e.yG2(3),e.cNF(t.vstate_record)}}function J(a,r){1&a&&(e.I0R(0,"tr")(1,"td",39),e.OEk(2,"No se encontr\xf3 Informaci\xf3n."),e.C$Y()())}function z(a,r){1&a&&(e.I0R(0,"tr")(1,"td",39),e.OEk(2," Cargando informaci\xf3n. Espere por favor. "),e.C$Y()())}function X(a,r){1&a&&(e.I0R(0,"small",50),e.OEk(1," Ingrese Nombre"),e.C$Y())}function W(a,r){1&a&&(e.I0R(0,"small",50),e.OEk(1,"Ingrese solo Letras"),e.C$Y())}function Z(a,r){1&a&&(e.I0R(0,"small",50),e.OEk(1," Ingrese Descripcion"),e.C$Y())}function ee(a,r){1&a&&(e.I0R(0,"small",50),e.OEk(1,"Ingrese solo Letras"),e.C$Y())}function te(a,r){1&a&&(e.I0R(0,"small",50),e.OEk(1," Seleccion Estado."),e.C$Y())}function ie(a,r){if(1&a){const t=e.KQA();e.wR5(0,"br"),e.I0R(1,"form",3)(2,"div",4)(3,"div",40)(4,"label",6),e.OEk(5,"Nombre"),e.C$Y(),e.I0R(6,"input",41),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.lsRangeDto.vname_range,i)||(s.lsRangeDto.vname_range=i),e.CGJ(i)}),e.C$Y(),e.yuY(7,X,2,0,"small",42)(8,W,2,0,"small",42),e.C$Y(),e.I0R(9,"div",40)(10,"label",6),e.OEk(11,"Descripcion"),e.C$Y(),e.I0R(12,"input",43),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.lsRangeDto.vdescription_range,i)||(s.lsRangeDto.vdescription_range=i),e.CGJ(i)}),e.C$Y(),e.yuY(13,Z,2,0,"small",42)(14,ee,2,0,"small",42),e.C$Y(),e.I0R(15,"div",40)(16,"label",6),e.OEk(17,"Horas Normal"),e.C$Y(),e.I0R(18,"p-inputNumber",44),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.lsRangeDto.ihours_normal_range,i)||(s.lsRangeDto.ihours_normal_range=i),e.CGJ(i)}),e.C$Y()(),e.I0R(19,"div",40)(20,"label",6),e.OEk(21,"Horas VIP"),e.C$Y(),e.I0R(22,"p-inputNumber",45),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.lsRangeDto.ihours_vip_range,i)||(s.lsRangeDto.ihours_vip_range=i),e.CGJ(i)}),e.C$Y()(),e.I0R(23,"div",46)(24,"label",6),e.OEk(25,"Hora Agenda"),e.C$Y(),e.I0R(26,"p-inputMask",47),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.lsRangeDto.vtime_agenda_range,i)||(s.lsRangeDto.vtime_agenda_range=i),e.CGJ(i)}),e.C$Y()(),e.I0R(27,"div",46)(28,"label",6),e.OEk(29,"% Min. Rango"),e.C$Y(),e.I0R(30,"p-inputNumber",48),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.lsRangeDto.dsupport_min_required,i)||(s.lsRangeDto.dsupport_min_required=i),e.CGJ(i)}),e.C$Y()(),e.I0R(31,"div",46)(32,"label",6),e.OEk(33,"Estado"),e.C$Y(),e.I0R(34,"p-dropdown",49),e.iHE("ngModelChange",function(i){e.usT(t);const s=e.GaO();return e.kNx(s.lsRangeDto.istate_record,i)||(s.lsRangeDto.istate_record=i),e.CGJ(i)}),e.C$Y(),e.yuY(35,te,2,0,"small",42),e.C$Y()()()}if(2&a){const t=e.GaO();let n,i;e.yG2(),e.E7m("formGroup",t.formRegisterEdit),e.yG2(5),e.OKB("ngModel",t.lsRangeDto.vname_range),e.yG2(),e.E7m("ngIf",t.formRegisterEdit.controls.txtName.invalid&&t.formRegisterEdit.controls.txtName.touched),e.yG2(),e.E7m("ngIf",null==(n=t.formRegisterEdit.get("txtName"))?null:n.hasError("pattern")),e.yG2(4),e.OKB("ngModel",t.lsRangeDto.vdescription_range),e.yG2(),e.E7m("ngIf",t.formRegisterEdit.controls.txtDescription.invalid&&t.formRegisterEdit.controls.txtDescription.touched),e.yG2(),e.E7m("ngIf",null==(i=t.formRegisterEdit.get("txtDescription"))?null:i.hasError("pattern")),e.yG2(4),e.E7m("useGrouping",!1)("maxlength",9),e.OKB("ngModel",t.lsRangeDto.ihours_normal_range),e.yG2(4),e.E7m("useGrouping",!1)("maxlength",9),e.OKB("ngModel",t.lsRangeDto.ihours_vip_range),e.yG2(4),e.E7m("pattern",t.patternTime),e.OKB("ngModel",t.lsRangeDto.vtime_agenda_range),e.yG2(4),e.OKB("ngModel",t.lsRangeDto.dsupport_min_required),e.E7m("minFractionDigits",2)("maxFractionDigits",2)("maxlength",8),e.yG2(4),e.E7m("options",t.lstState)("emptyMessage",t.vMessageEmpty)("placeholder",t.vMessageSelect),e.OKB("ngModel",t.lsRangeDto.istate_record),e.yG2(),e.E7m("ngIf",t.formRegisterEdit.controls.intState.invalid&&t.formRegisterEdit.controls.intState.touched)}}function ne(a,r){if(1&a){const t=e.KQA();e.I0R(0,"button",51),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.hideModal())}),e.C$Y(),e.I0R(1,"button",52),e.qCj("click",function(){e.usT(t);const i=e.GaO();return e.CGJ(i.saveRange())}),e.C$Y()}if(2&a){const t=e.GaO();e.yG2(),e.E7m("loading",t.loadingSave)}}const se=()=>({width:"450px",height:"450px"});let ae=(()=>{class a{constructor(t,n,i,s,o){this.httpCoreService=i,this.commonService=s,this.confirmationService=o,this.patternTime=c.w7.Time,this.lstRange=[],this.submitted=!1,this.titleEditRegisterRange="",this.vmEditRegisterRange=!1,this.totalRecord=0,this.first=0,this.rowsDefault=c.AN,this.rowsOptions=c.WA,this.vMessageEmpty=d.CM,this.vMessageSelect=d.y6,this.lstState=[],this.paramTDState=c.eE.STATES,this.req={iid_range:-1,vname_range:"",vdescription_range:"",istate_record:-1,iindex:0,ilimit:c.AN},this.formSearch=t.group({txtName:[""],txtDescription:[""],intState:[1]}),this.formRegisterEdit=n.group({txtName:["",[u.AQ.required]],txtDescription:["",[u.AQ.required]],intState:[1,[u.AQ.required]],txtTimeAgenda:["",[u.AQ.required]],intHoursNormal:[null],intHoursVip:[null],intMinRange:[null]})}ngOnInit(){this.loadStateCB(),this.loadData(this.req)}viewModal(t,n){switch(this.formRegisterEdit.reset(),t){case 1:this.lsRangeDto={},this.lsRangeDto.iid_range=0,this.titleEditRegisterRange="Registrar Rango",this.vmEditRegisterRange=!0;break;case 2:this.lsRangeDto=n,this.titleEditRegisterRange="Editar Rango",this.vmEditRegisterRange=!0}}loadData(t){this.lstRange=[],this.httpCoreService.post(t,C.U.GetListRange).subscribe(n=>{n.isSuccess&&(this.lstRange=n.data,this.totalRecord=n.iTotal_record)})}saveRange(){this.submitted=!0;let t=this.formRegisterEdit.value;for(let n in this.formRegisterEdit.controls)this.formRegisterEdit.controls[n].markAsTouched();this.formRegisterEdit.valid&&this.httpCoreService.post({iid_range:this.lsRangeDto.iid_range,vname_range:t.txtName,vdescription_range:t.txtDescription,ihours_normal_range:t.intHoursNormal,ihours_vip_range:t.intHoursVip,vtime_agenda_range:t.txtTimeAgenda,dsupport_min_required:t.intMinRange,istate_record:t.intState},C.U.RegisterRange).subscribe(i=>{i.isSuccess&&(this.commonService.HanddleInfoMessage(d.gv.MSG_ACTUALIZADA_REGISTRADA),this.loadData(this.req),this.hideModal())})}deleteRange(t,n){this.confirmationService.confirm({key:"deleteDetalle",target:t.target||new EventTarget,message:d.gv.MSG_PREGUNTA_ELIMINAR,icon:"pi pi-exclamation-triangle",acceptLabel:"S\xed",accept:()=>{this.httpCoreService.delete(C.U.DeleteRange+n.iid_range).subscribe(i=>{i.isSuccess?(this.commonService.HanddleInfoMessage(d.gv.MSG_ELIMINADA),this.loadData(this.req)):this.commonService.HanddleErrorMessage(i)})},reject:()=>{}})}changePage(t){this.req.iindex=t.first,this.req.ilimit=t.rows,this.first=t.first,this.loadData(this.req)}hideModal(){this.vmEditRegisterRange=!1,this.submitted=!1,this.titleEditRegisterRange=""}loadStateCB(){this.httpCoreService.getDataCb(this.paramTDState).subscribe(t=>{t.isSuccess&&(this.lstState=t.data)})}static#e=this.\u0275fac=function(n){return new(n||a)(e.GI1(u.im),e.GI1(u.im),e.GI1(P.c),e.GI1(V.G),e.GI1(m.EV))};static#t=this.\u0275cmp=e.In1({type:a,selectors:[["app-ranges"]],standalone:!0,features:[e.UHJ],decls:35,vars:20,consts:[["key","tst",3,"baseZIndex"],["key","deleteDetalle"],["header","Busqueda de Rangos"],[3,"formGroup"],[1,"grid","p-formgrid","p-fluid"],[1,"col-12","md:col-3"],[1,"label-filter-text"],["formControlName","txtName","type","text","pInputText","",1,"p-inputtext","p-component","p-element"],["formControlName","txtDescription","type","text","pInputText","",1,"p-inputtext","p-component","p-element"],["formControlName","intState","optionLabel","vvalue1","optionValue","id","appendTo","body",3,"placeholder","emptyMessage","options"],[1,"flex","flex-wrap","sm:flex-row"],[1,"sm:mr-auto","mb-3","mr-3"],["pButton","","label","Agregar Rango","type","button","icon","pi pi-plus",1,"p-button-help",3,"click"],[1,"mb-3","mr-3"],["pButton","","label","Buscar","icon","pi pi-search","type","submit",1,"p-button-outlined","p-button-primary"],[1,""],["pButton","","label","Limpiar","type","button","icon","pi pi-trash",1,"p-button-outlined","p-button-secondary",3,"click"],["header","Resultado de Rangos"],["scrollDirection","both","scrollHeight","400px","styleClass","mt-3","responsiveLayout","scroll","styleClass","p-datatable-gridlines",3,"value","scrollable"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],["currentPageReportTemplate","Total : {totalRecords} registros",3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","first","onPageChange"],[3,"visible","draggable","closable","header","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[1,"td-code"],[1,"td-name"],[1,"td-description"],[1,"td-hours-normal"],[1,"td-hours-vip"],[1,"td-time-agenda"],[1,"td-support-required"],[1,"td-state"],["pFrozenColumn","","alignFrozen","right",1,"td-actions"],[1,"td-code","font-bold"],["pButton","","icon","pi pi-pencil","pTooltip","Editar","tooltipPosition","bottom",1,"text-green-500","p-button-text",3,"click"],["pButton","","icon","pi pi-trash","pTooltip","Eliminar","tooltipPosition","bottom",1,"text-red-500","p-button-text",3,"click"],["colspan","7"],[1,"col-12","md:col-6"],["formControlName","txtName","type","text","pInputText","",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["class","text-red-600",4,"ngIf"],["formControlName","txtDescription","type","text","pInputText","",1,"p-inputtext","p-component","p-element",3,"ngModel","ngModelChange"],["formControlName","intHoursNormal","inputId","withoutgrouping","autocomplete","off",3,"useGrouping","maxlength","ngModel","ngModelChange"],["formControlName","intHoursVip","inputId","withoutgrouping","autocomplete","off",3,"useGrouping","maxlength","ngModel","ngModelChange"],[1,"col-12","md:col-4"],["mask","99:99","placeholder","HH:MM","formControlName","txtTimeAgenda","icon","pi pi-clock",3,"pattern","ngModel","ngModelChange"],["formControlName","intMinRange","inputId","locale-user","autocomplete","off",3,"ngModel","minFractionDigits","maxFractionDigits","maxlength","ngModelChange"],["formControlName","intState","optionLabel","vvalue1","optionValue","id","appendTo","body",3,"options","emptyMessage","placeholder","ngModel","ngModelChange"],[1,"text-red-600"],["pButton","","pRipple","","label","Cerrar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Guardar","icon","pi pi-save",1,"p-button-text",3,"loading","click"]],template:function(n,i){1&n&&(e.wR5(0,"p-toast",0)(1,"p-confirmPopup",1),e.I0R(2,"p-panel",2)(3,"form",3)(4,"div",4)(5,"div",5)(6,"label",6),e.OEk(7,"Nombre"),e.C$Y(),e.wR5(8,"input",7),e.C$Y(),e.I0R(9,"div",5)(10,"label",6),e.OEk(11,"Descripcion"),e.C$Y(),e.wR5(12,"input",8),e.C$Y(),e.I0R(13,"div",5)(14,"label",6),e.OEk(15,"Estado"),e.C$Y(),e.wR5(16,"p-dropdown",9),e.C$Y()(),e.I0R(17,"div",10)(18,"div",11)(19,"button",12),e.qCj("click",function(){return i.viewModal(1,null)}),e.C$Y()(),e.I0R(20,"div",13),e.wR5(21,"button",14),e.C$Y(),e.I0R(22,"div",15)(23,"button",16),e.qCj("click",function(){return i.formSearch.reset()}),e.C$Y()()()()(),e.wR5(24,"br"),e.I0R(25,"p-panel",17)(26,"p-table",18),e.yuY(27,Q,19,0,"ng-template",19)(28,U,21,10,"ng-template",20)(29,J,3,0,"ng-template",21)(30,z,3,0,"ng-template",22),e.C$Y(),e.I0R(31,"p-paginator",23),e.qCj("onPageChange",function(o){return i.changePage(o)}),e.C$Y()(),e.I0R(32,"p-dialog",24),e.iHE("visibleChange",function(o){return e.kNx(i.vmEditRegisterRange,o)||(i.vmEditRegisterRange=o),o}),e.yuY(33,ie,36,24,"ng-template",25)(34,ne,2,1,"ng-template",26),e.C$Y()),2&n&&(e.E7m("baseZIndex",99999),e.yG2(3),e.E7m("formGroup",i.formSearch),e.yG2(13),e.E7m("placeholder",i.vMessageSelect)("emptyMessage",i.vMessageEmpty)("options",i.lstState),e.yG2(10),e.E7m("value",i.lstRange)("scrollable",!0),e.yG2(5),e.E7m("rows",i.req.ilimit)("totalRecords",i.totalRecord)("rowsPerPageOptions",i.rowsOptions)("showCurrentPageReport",!0)("first",i.first),e.yG2(),e.m_g(e.q4q(19,se)),e.OKB("visible",i.vmEditRegisterRange),e.E7m("draggable",!1)("closable",!1)("header",i.titleEditRegisterRange)("modal",!0))},dependencies:[Y.k,h.u_,u.sz,u.ot,u.ue,u.u,u.Mj,u.E1,u.uW,u.Wo,S.o,B.cS,m.U3,E.oJ,E._E,A.A9,f.C,$.s,F.qA,H.C,K.W,q._,L.Et,N,I,D.y,j],styles:[".td-code[_ngcontent-%COMP%]{min-width:8rem;max-width:8rem}.td-name[_ngcontent-%COMP%], .td-description[_ngcontent-%COMP%], .td-hours-normal[_ngcontent-%COMP%]{min-width:10rem;max-width:10rem}.td-hours-vip[_ngcontent-%COMP%]{min-width:7rem;max-width:7rem}.td-time-agenda[_ngcontent-%COMP%], .td-support-required[_ngcontent-%COMP%]{min-width:10rem;max-width:10rem}.td-state[_ngcontent-%COMP%], .td-actions[_ngcontent-%COMP%]{min-width:8rem;max-width:8rem}"]})}return a})(),oe=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.a4G({type:a});static#i=this.\u0275inj=e.s3X({imports:[R.qQ.forChild([{path:"",component:ae}]),R.qQ]})}return a})(),le=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275mod=e.a4G({type:a});static#i=this.\u0275inj=e.s3X({imports:[h.MD,oe]})}return a})()}}]);